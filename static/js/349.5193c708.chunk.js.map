{"version":3,"file":"static/js/349.5193c708.chunk.js","mappings":"8PACA,EAAuB,wBAAvB,EAAuD,yBAAvD,EAAsF,uB,SCG/E,SAASA,EAAT,GAA+B,IAAVC,EAAS,EAATA,MAC1B,ECH6B,SAACC,EAAKC,GACnC,OAA0BC,EAAAA,EAAAA,WACxB,kCAAMC,KAAKC,MAAMC,aAAaC,QAAQN,WAAtC,QAA+CC,CAA/C,IADF,eAAOM,EAAP,KAAcC,EAAd,KAOA,OAHAC,EAAAA,EAAAA,YAAU,WACRJ,aAAaK,QAAQV,EAAKG,KAAKQ,UAAUJ,GAC1C,IACM,CAACA,EAAOC,EAChB,CDN2BI,CAAgB,cAAe,KAAzD,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAgBA,OACE,8BACE,kBAAMC,SAXW,SAAAC,GACnBA,EAAEC,iBACF,IACMC,EADOF,EAAEG,cACKC,SAASC,OAAOX,MACpCd,EAAMsB,GACNP,EAAS,IACLE,GAAcC,EAAgB,CAAElB,MAAOsB,GAC5C,EAIiCI,UAAWC,EAAzC,WACE,kBACED,UAAWC,EACXb,MAAOA,EACPc,SApBkB,SAAAR,GACxB,IAAQN,EAAUM,EAAES,OAAZf,MACRC,EAASD,EACV,EAkBOgB,KAAK,YAEP,mBAAQJ,UAAWC,EAASI,KAAK,SAASC,UAAWlB,EAArD,wBAMP,C,sBEKD,MApCA,WACE,OAAsCX,EAAAA,EAAAA,UAAS,IAA/C,eAAO8B,EAAP,KAAoBC,EAApB,KACA,GAA4B/B,EAAAA,EAAAA,UAAS,IAArC,eAAOgC,EAAP,KAAeC,EAAf,KACMC,GAAWC,EAAAA,EAAAA,MACjB,GAAuBtB,EAAAA,EAAAA,MACjBuB,GADN,eACiCC,IAAI,SAuBrC,OArBA9B,EAAAA,EAAAA,YAAU,WAAM,wCACd,gGAGSuB,IAAeM,EAHxB,iCAImBE,EAAAA,EAAAA,IAAiBF,GAJpC,OAIMG,EAJN,+CAMmBD,EAAAA,EAAAA,IAAiBR,GANpC,OAMMS,EANN,eAQIN,GAAU,OAAIM,IARlB,kDAUIC,QAAQC,IAAI,uBAAZ,MAVJ,2DADc,uBAAC,WAAD,wBAcdC,EACD,GAAE,CAACN,EAAaN,KAOf,iCACE,SAAClC,EAAD,CAAWC,MANf,SAAsB0C,GACpBR,EAAeQ,EAChB,KAKG,SAACI,EAAA,EAAD,CAAYJ,KAAMP,EAAQE,SAAUA,MAGzC,C","sources":["webpack://goit-react-hw-05-movies/./src/components/SearchBar/SearchBar.module.css?35a0","components/SearchBar/SearchBar.jsx","hooks/useLocalStorage.jsx","pages/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchBar_form__gW7Gj\",\"input\":\"SearchBar_input__bIy50\",\"btn\":\"SearchBar_btn__PKGSc\"};","import css from './SearchBar.module.css';\nimport { useLocalStorage } from 'hooks/useLocalStorage';\nimport { useSearchParams } from 'react-router-dom';\n\nexport function SearchBar({ query }) {\n  const [value, setValue] = useLocalStorage('searchValue', ' ');\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const handleInputChange = e => {\n    const { value } = e.target;\n    setValue(value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    const string = form.elements.search.value;\n    query(string);\n    setValue('');\n    if (searchParams) setSearchParams({ query: string });\n  };\n\n  return (\n    <section>\n      <form onSubmit={handleSubmit} className={css.form}>\n        <input\n          className={css.input}\n          value={value}\n          onChange={handleInputChange}\n          name=\"search\"\n        />\n        <button className={css.btn} type=\"submit\" disabled={!value}>\n          Search\n        </button>\n      </form>\n    </section>\n  );\n}\n","import { useState, useEffect } from 'react';\n\nexport const useLocalStorage = (key, defaultValue) => {\n  const [state, setState] = useState(\n    () => JSON.parse(localStorage.getItem(key)) ?? defaultValue\n  );\n\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(state));\n  });\n  return [state, setState];\n};\n","import { useState, useEffect } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { SearchBar } from 'components/SearchBar/SearchBar';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { fetchQueryMovies } from '../services/fetchApi';\n\nfunction Movies() {\n  const [searchValue, setSearchValue] = useState('');\n  const [movies, setMovies] = useState([]);\n  const location = useLocation();\n  const [searchParams] = useSearchParams();\n  const queryString = searchParams.get('query');\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        let data;\n        if (!searchValue && queryString) {\n          data = await fetchQueryMovies(queryString);\n        } else {\n          data = await fetchQueryMovies(searchValue);\n        }\n        setMovies([...data]);\n      } catch (error) {\n        console.log('Error fetching data:', error);\n      }\n    }\n    fetchData();\n  }, [queryString, searchValue]);\n\n  function searchHandle(data) {\n    setSearchValue(data);\n  }\n\n  return (\n    <>\n      <SearchBar query={searchHandle} />\n      <MoviesList data={movies} location={location} />\n    </>\n  );\n}\n\nexport default Movies;\n"],"names":["SearchBar","query","key","defaultValue","useState","JSON","parse","localStorage","getItem","state","setState","useEffect","setItem","stringify","useLocalStorage","value","setValue","useSearchParams","searchParams","setSearchParams","onSubmit","e","preventDefault","string","currentTarget","elements","search","className","css","onChange","target","name","type","disabled","searchValue","setSearchValue","movies","setMovies","location","useLocation","queryString","get","fetchQueryMovies","data","console","log","fetchData","MoviesList"],"sourceRoot":""}